# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…è¨ˆç”»æ›¸: æ¤œç´¢ãƒ»ãƒãƒƒãƒãƒ³ã‚°

## ğŸ“‹ æ¦‚è¦
ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã„ã„ã­é€ä¿¡ã€ãƒãƒƒãƒä¸€è¦§ãƒ»çŠ¶æ…‹ç¢ºèªã‚’ãƒ•ãƒ­ãƒ³ãƒˆã§å®Ÿè£…ã™ã‚‹è¨ˆç”»ã€‚

## ğŸ”Œ å¯¾å¿œAPI
- GET `/users/search`ï¼ˆã‚¿ã‚°/å±æ€§/ãƒ†ã‚­ã‚¹ãƒˆ/ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³/ã‚½ãƒ¼ãƒˆï¼‰
- GET `/users/suggestions`ï¼ˆãŠã™ã™ã‚ï¼‰
- POST `/likes`ï¼ˆã„ã„ã­ï¼‰
- GET `/likes/sent`, `/likes/received`
- GET `/matches`, `/matches/{user_id}`
- DELETE `/likes/{liked_user_id}`ï¼ˆå–ã‚Šæ¶ˆã—ï¼‰

## ğŸ§­ ç”»é¢/ãƒ«ãƒ¼ãƒˆ
- `/search` æ¤œç´¢ç”»é¢ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ»çµæœãƒªã‚¹ãƒˆï¼‰
- `/matches` ãƒãƒƒãƒä¸€è¦§

## ğŸ§± ãƒ‡ãƒ¼ã‚¿å‹ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆï¼‰
```ts
// src/types/search.ts
export type TagInfo = { id: number; name: string; description?: string }

export type LikeStatus = { i_liked: boolean; they_liked: boolean; is_matched: boolean }

export type UserSearchResult = {
  id: number
  display_name: string
  bio?: string
  faculty?: string
  grade?: string
  tags: TagInfo[]
  created_at: string
  like_status: LikeStatus
}

export type UserSearchResponse = {
  users: UserSearchResult[]
  total: number
  limit: number
  offset: number
  filters_applied: Record<string, unknown>
}
```

## ğŸ§° ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `SearchForm`ï¼ˆãƒ†ã‚­ã‚¹ãƒˆ/ã‚¿ã‚°/å­¦éƒ¨/å­¦å¹´/ã‚½ãƒ¼ãƒˆï¼‰
- `UserCard`ï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¦ç´„ã€ã‚¿ã‚°ã€ã„ã„ã­ãƒœã‚¿ãƒ³ï¼‰
- `Pagination`ï¼ˆãƒšãƒ¼ã‚¸ãƒ³ã‚°ï¼‰
- `FiltersSheet`ï¼ˆãƒ¢ãƒã‚¤ãƒ«ç”¨ã‚·ãƒ¼ãƒˆUIï¼‰
- `MatchUserCard`ï¼ˆãƒãƒƒãƒç›¸æ‰‹ã®è¦ç´„ï¼‰

## ğŸ”„ React Query ã‚­ãƒ¼
- `['search', params]` æ¤œç´¢çµæœ
- `['matches']` ãƒãƒƒãƒä¸€è¦§
- `['likes','sent']`, `['likes','received']` å±¥æ­´

## ğŸ§  ã„ã„ã­å‹•ä½œï¼ˆUXï¼‰
- ã„ã„ã­æŠ¼ä¸‹æ™‚: æ¥½è¦³çš„æ›´æ–°â†’APIâ†’å¤±æ•—æ™‚ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
- ãƒãƒƒãƒæˆç«‹æ™‚: ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤ºï¼‹`/matches` ã¸ã®æ¡ˆå†…
- å–ã‚Šæ¶ˆã—: ç¢ºèªãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‹çµæœåæ˜ 

## ğŸ§® ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­è¨ˆ
`/search?tags=æ˜ ç”»,ã‚²ãƒ¼ãƒ &faculty=å·¥å­¦éƒ¨&grade=3å¹´ç”Ÿ&search=...&sort=recent&limit=20&offset=0`

URLåŒæœŸ:
- App Router ã® `useSearchParams`/`useRouter` ã§åŒæœŸã—ã€å…±æœ‰å¯èƒ½ãªãƒªãƒ³ã‚¯

## ğŸ“± ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–
- ãƒ¢ãƒã‚¤ãƒ«: ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã¯Sheet/Drawerã€ã‚«ãƒ¼ãƒ‰ã¯1ã‚«ãƒ©ãƒ 
- ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ/PC: ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼‹2-4ã‚«ãƒ©ãƒ ã‚«ãƒ¼ãƒ‰

## ğŸ§ª ãƒ†ã‚¹ãƒˆ
- æ¤œç´¢æ¡ä»¶â†’çµæœã®åæ˜ 
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³/ã‚½ãƒ¼ãƒˆã®åæ˜ 
- ã„ã„ã­é€ä¿¡ã®æˆåŠŸ/å¤±æ•—/ãƒãƒƒãƒæˆç«‹
- ãƒãƒƒãƒä¸€è¦§è¡¨ç¤º

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/è€ƒæ…®
- ãƒ–ãƒ­ãƒƒã‚¯æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼éè¡¨ç¤ºï¼ˆAPIå´ãŒé™¤å¤–ã€UIã¯çŠ¶æ…‹ã«è¿½éšï¼‰
- éãƒ­ã‚°ã‚¤ãƒ³æ™‚ã¯ `/login` ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

## ğŸ“ˆ æˆåŠŸæŒ‡æ¨™
- æ¤œç´¢å¿œç­” < 1sï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆæ™‚ < 300msï¼‰
- ã„ã„ã­æ“ä½œæˆåŠŸç‡ > 99%
- E2Eã‚°ãƒªãƒ¼ãƒ³ > 95%

## ğŸ“‹ å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] `SearchForm` ã¨URLåŒæœŸ
- [ ] æ¤œç´¢APIæ¥ç¶š/ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« or ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
- [ ] `UserCard` ã„ã„ã­å®Ÿè£…ï¼ˆæ¥½è¦³çš„æ›´æ–°ï¼‰
- [ ] ãƒãƒƒãƒä¸€è¦§/çŠ¶æ…‹ç¢ºèª
- [ ] é€å—ä¿¡ã„ã„ã­å±¥æ­´è¡¨ç¤º
- [ ] ãƒ†ã‚¹ãƒˆï¼ˆå˜ä½“/çµ±åˆ/E2Eï¼‰

---
ä½œæˆæ—¥: 2025-10-13 / æ‹…å½“: Qupidé–‹ç™ºãƒãƒ¼ãƒ 



